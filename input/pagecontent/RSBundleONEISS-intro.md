<!-- generated by scripts/update-bundle-intros.ts; do not edit manually -->
# Road Safety Bundle — ONEISS Submission Overview

Document Bundle for Facility ONEISS submission. The first entry MUST be a Composition that organizes and references the other resources in the bundle (Patient, Encounter, Condition, Observations, DocumentReference, Procedure, ServiceRequest).

## Required Entries

- `entry[composition]` 1..1 – `RSCompositionONEISS`
- `entry[encounter]` 1..1 – `RSEncounter`
- `entry[patient]` 1..1 – `RSPatient`

## Slice Reference

| Slice | Cardinality | Allowed Resources | Notes |
| --- | --- | --- | --- |
| `entry[composition]` | 1..1 | `RSCompositionONEISS` | `RSCompositionONEISS`: Road Safety Composition — ONEISS Submission — Composition that organises a facility (ONEISS) submission. Sections MUST reference the other resources present in the corresponding document Bundle (Patient, Encounter, Condition, Observations, DocumentReference, Procedure, ServiceRequest). |
| `entry[conditionFinal]` | 0..1 | `RSConditionFinalDiagnosis` | `RSConditionFinalDiagnosis`: Road Safety Condition — Final Diagnosis — Final diagnosis per CSV mapping. |
| `entry[conditionInitial]` | 0..1 | `RSConditionInitialImpression` | `RSConditionInitialImpression`: Road Safety Condition — Initial Impression — Initial impression per CSV mapping. |
| `entry[document]` | 0..* | `RSDocumentReference` | `RSDocumentReference`: Road Safety DocumentReference (Evidence) — Evidence and post-crash documentation linked to the incident (e.g., cause of crash, party at fault, incident management logs, CCTV, shape files). |
| `entry[encounter]` | 1..1 | `RSEncounter` | `RSEncounter`: Road Safety Encounter — Encounter for EMS run report / facility submission context. Captures incident number, type, timing, participants, disposition & transfer. |
| `entry[observationClinical]` | 0..* | `RSObsOtherRiskFactors`<br>`RSObsConditionOfPatient`<br>`RSObsOutcome`<br>`RSObsStatusOnArrival`<br>`RSObsStatusOnArrivalAliveDetail`<br>`RSObsBloodAlcoholConcentration` | `RSObsOtherRiskFactors`: Road Safety Observation - Other Risk Factors — Other risk factors at the time of incident; allow text for 'Others'.<br>`RSObsConditionOfPatient`: Road Safety Observation - Condition of Patient — Overall condition of patient at assessment.<br>`RSObsOutcome`: Road Safety Observation - Outcome at Release — Outcome at release from ER/OPD/RHU.<br>`RSObsStatusOnArrival`: Road Safety Observation - Status on Arrival — Status upon reaching facility/hospital.<br>`RSObsStatusOnArrivalAliveDetail`: Road Safety Observation - If Alive: Conscious/Unconscious — If alive on arrival, consciousness detail.<br>`RSObsBloodAlcoholConcentration`: Road Safety Observation - Blood Alcohol Concentration — Blood alcohol concentration. |
| `entry[observationExtentOfInjury]` | 0..1 | `RSObsExtentOfInjury` | `RSObsExtentOfInjury`: Road Safety Observation - Extent of Injury — Extent / severity estimate or category of injury (e.g., minor, moderate, severe). |
| `entry[observationExternalCause]` | 0..* | `RSObsECBitesStings`<br>`RSObsECBurns`<br>`RSObsECChemical`<br>`RSObsECSharpObject`<br>`RSObsECDrowning`<br>`RSObsECForcesOfNature`<br>`RSObsECFall`<br>`RSObsECFirecracker`<br>`RSObsECGunshot`<br>`RSObsECHangingStrangulation`<br>`RSObsECMaulingAssault`<br>`RSObsECSexualAssault`<br>`RSObsECOther` | `RSObsECBitesStings`: Road Safety Observation - External Cause: Bites/Stings — Flag indicating bites/stings.<br>`RSObsECBurns`: Road Safety Observation - External Cause: Burns — Flag indicating burns as external cause.<br>`RSObsECChemical`: Road Safety Observation - External Cause: Chemical/Substance — Observation for chemical/substance exposure.<br>`RSObsECSharpObject`: Road Safety Observation - External Cause: Contact with Sharp Object — Flag indicating sharp object cause.<br>`RSObsECDrowning`: Road Safety Observation - External Cause: Drowning — Flag indicating drowning.<br>`RSObsECForcesOfNature`: Road Safety Observation - External Cause: Exposure to Forces of Nature — Flag indicating exposure to natural disaster/calamity.<br>`RSObsECFall`: Road Safety Observation - External Cause: Fall — Flag indicating fall.<br>`RSObsECFirecracker`: Road Safety Observation - External Cause: Firecracker — Flag indicating firecracker-related cause.<br>`RSObsECGunshot`: Road Safety Observation - External Cause: Gunshot — Flag indicating gunshot.<br>`RSObsECHangingStrangulation`: Road Safety Observation - External Cause: Hanging/Strangulation — Flag indicating hanging/strangulation.<br>`RSObsECMaulingAssault`: Road Safety Observation - External Cause: Mauling/Assault — Flag indicating assault.<br>`RSObsECSexualAssault`: Road Safety Observation - External Cause: Sexual Assault/Abuse/Rape (Alleged) — Flag indicating sexual assault.<br>`RSObsECOther`: Road Safety Observation - External Cause: Other — Flag indicating other external cause. |
| `entry[observationIncident]` | 0..* | `RSObsInjuryDateTime`<br>`RSObsInjuryIntent`<br>`RSObsTransportVehicularAccident`<br>`RSObsModeOfTransport`<br>`RSObsCollisionVsNonCollision`<br>`RSObsPatientsVehicle`<br>`RSObsOtherVehicleInvolved`<br>`RSObsPositionOfPatient`<br>`RSObsHowManyVehicles`<br>`RSObsHowManyPatients`<br>`RSObsPlaceOfOccurrence`<br>`RSObsActivityAtIncident`<br>`RSObsSafetyAccessories`<br>`RSObsTriagePriority`<br>`RSObsUrgencyLevel` | `RSObsInjuryDateTime`: Road Safety Observation - Date/Time of Injury — Timestamp of injury occurrence.<br>`RSObsInjuryIntent`: Road Safety Observation - Injury Intent — Intent of injury (Unintentional, Intentional-self, Intentional-violence, Undetermined).<br>`RSObsTransportVehicularAccident`: Road Safety Observation - Transport/Vehicular Accident — Boolean flag indicating transport/vehicular accident.<br>`RSObsModeOfTransport`: Road Safety Observation - Mode of Transport to Facility — Mode of transport to the hospital/facility; allow coded value with optional text for 'Others'.<br>`RSObsCollisionVsNonCollision`: Road Safety Observation - Collision vs Non-Collision — Indicates whether the incident was collision or non-collision.<br>`RSObsPatientsVehicle`: Road Safety Observation - Patient's Vehicle — Type of vehicle used by patient; text for 'Others'.<br>`RSObsOtherVehicleInvolved`: Road Safety Observation - Other Vehicle/Object Involved — Other vehicle/object type involved; text for 'Others'.<br>`RSObsPositionOfPatient`: Road Safety Observation - Position of Patient — Seat/position (driver/front passenger/rear/pedestrian); text for 'Others'.<br>`RSObsHowManyVehicles`: Road Safety Observation - How Many Vehicles Involved — Count of vehicles involved.<br>`RSObsHowManyPatients`: Road Safety Observation - How Many Patients Involved — Count of patients involved.<br>`RSObsPlaceOfOccurrence`: Road Safety Observation - Place of Occurrence — Place type where injury occurred; name can be carried in note when applicable.<br>`RSObsActivityAtIncident`: Road Safety Observation - Activity at Time of Incident — Activity of the patient at time of incident; allow text fallback.<br>`RSObsSafetyAccessories`: Road Safety Observation - Safety Accessories — Safety accessories present/used; allow text for 'Others'.<br>`RSObsTriagePriority`: Road Safety Observation - Triage Priority — Triage category assigned at scene (e.g., Red/Yellow/Green/Black).<br>`RSObsUrgencyLevel`: Road Safety Observation - Priority Level (Urgency) — System-generated urgency level per CAD/agency rules. |
| `entry[observationInjuries]` | 0..* | `RSObsMultipleInjuries`<br>`RSObsAbrasion`<br>`RSObsAvulsion`<br>`RSObsNatureBurns`<br>`RSObsECBurns`<br>`RSObsConcussion`<br>`RSObsContusion`<br>`RSObsFracture`<br>`RSObsOpenWound`<br>`RSObsTraumaticAmputation`<br>`RSObsOtherInjury` | `RSObsMultipleInjuries`: Road Safety Observation - Multiple Injuries? — Boolean flag indicating multiple injuries.<br>`RSObsAbrasion`: Road Safety Observation - Abrasion — Abrasion present; with optional site and details.<br>`RSObsAvulsion`: Road Safety Observation - Avulsion — Avulsion present; with optional site and details.<br>`RSObsNatureBurns`: Road Safety Observation - External Cause: Burns — Flag indicating burns as external cause.<br>`RSObsECBurns`: Road Safety Observation - External Cause: Burns — Flag indicating burns as external cause.<br>`RSObsConcussion`: Road Safety Observation - Concussion — Concussion present; with site and details.<br>`RSObsContusion`: Road Safety Observation - Contusion — Contusion present; with site and details.<br>`RSObsFracture`: Road Safety Observation - Fracture — Fracture observation. Use valueCodeableConcept to indicate fracture type (e.g., open or closed). Sites captured in top-level bodySite and details in note.<br>`RSObsOpenWound`: Road Safety Observation - Open Wound — Open wound present; with site and details. Capture mechanism/type in a structured component (valueCodeableConcept with text).<br>`RSObsTraumaticAmputation`: Road Safety Observation - Traumatic Amputation — Traumatic amputation present; with site and details.<br>`RSObsOtherInjury`: Road Safety Observation - Other Specified Injury — Other specified injury present; capture type as valueCodeableConcept (text allowed) with optional site and details. |
| `entry[observationReferredByFacility]` | 0..1 | `RSObsReferredByFacility` | `RSObsReferredByFacility`: Road Safety Observation - Referred By Facility — Flag indicating patient was referred by another hospital/facility. |
| `entry[observationTransferredFromFacility]` | 0..1 | `RSObsTransferredFromFacility` | `RSObsTransferredFromFacility`: Road Safety Observation - Transferred From Facility — Flag indicating patient transferred from another hospital/facility. |
| `entry[patient]` | 1..1 | `RSPatient` | `RSPatient`: Road Safety Patient — Patient demographics and identifiers for road safety reporting; reuse PH-Core address extensions for barangay/city/province/region. |
| `entry[procedure]` | 0..* | `RSProcedure` | `RSProcedure`: Road Safety Procedure — Procedures related to incident/report (e.g., coordination with receiving hospital, psychosocial support, interventions). |
| `entry[serviceRequest]` | 0..* | `RSServiceRequest` | `RSServiceRequest`: Road Safety ServiceRequest — Requests or records related to refusal to admit and related workflow signals. |

## Implementation Guidance

- Produce an HL7 FHIR R4 JSON Bundle with `Bundle.type = "document"` that declares the matching profile in `meta.profile`.
- Populate the required entries first (patient, encounter, composition, and any mandatory Observations) before adding optional slices.
- When adding optional slices, create resources conforming to the allowed profiles and ensure any fixed codes listed above appear in `resource.code`.
- Reference each resource from the document Composition (`section.entry`) so the Bundle content aligns with slice definitions.
- After structural changes, run `bun run scripts/update-bundle-intros.ts` (or execute this script with Node) to refresh both overview and notes pages.
- Follow up with `./_build.sh build` to confirm publisher validation.
